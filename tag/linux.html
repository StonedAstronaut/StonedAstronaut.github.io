<!DOCTYPE html>
<html lang="ru">
<head>
	<link rel="stylesheet" type="text/css" href="https://stonedastronaut.github.io/theme/css/style.css">
	<!--<link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">-->
	<!--<script src="/theme/js/less.js" type="text/javascript"></script>-->
	<link rel="stylesheet" type="text/css" href="https://stonedastronaut.github.io/theme/css/pygments.css">
	<link href='//fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>

	<link href="https://stonedastronaut.github.io/" type="application/atom+xml" rel="alternate" title="Astro blog ATOM Feed" />


		<title>Astro blog - linux</title>
		<meta charset="utf-8" />
</head>
<body>
	<section id="sidebar">
		<figure id="user_logo">
            <a href="https://stonedastronaut.github.io"><div class="logo">&nbsp;</div></a>
		</figure>

		<div class="user_meta">
            <h1 id="user"><a href="https://stonedastronaut.github.io" class="">Petr Kalmykov</a></h1>
			<h2></h2>
			<ul>
						<li><a href="https://stonedastronaut.github.io/pages/about.html">About</a></li>
					<li><a href="http://getpelican.com/">Pelican</a></li>
					<li><a href="http://python.org/">Python.org</a></li>
					<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
					<li><a href="#">You can modify those links in your config file</a></li>
			</ul>
		</div>
		<footer>
			<address>
				Powered by <a href="http://pelican.notmyidea.org/">Pelican</a>,
		                theme by <a href="https://github.com/wting/pelican-svbtle">wting</a>.
			</address>
		</footer>
	</section>

	<section id="posts">
	<header>
		<h1>Petr Kalmykov's blog</h1>
		<h3>
			<script type="text/javascript">
				var currentDate = new Date();
				var day = currentDate.getDate();
				var monthNames = [ "Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sep", "Oct", "Nov", "Dec" ];
				var month = monthNames[currentDate.getMonth()].toUpperCase();
				var year = currentDate.getFullYear();
				document.write(month + " " + day + ", " + year);
			</script>
		</h3>
	</header>

	<dl>
		<ol>
				<li>
					<h1 class="title">
						<a href="https://stonedastronaut.github.io/lvm-on-luks-na-primere-arch.html" rel="bookmark" title="Permalink to LVM on LUKS на примере arch">LVM on LUKS на примере arch</a>
					</h1>
					<abbr class="published" title="2015-07-26T03:53:00+06:00">Sun 26 July 2015</abbr>
				<div class="entry-content"> <h2>Создаём разделы физические</h2>
<p>Вот такая структура диска.</p>
<ul>
<li>
<p><code>/dev/sda1 -&gt; /boot</code></p>
</li>
<li>
<p><code>/dev/sda2 -&gt; LVM</code></p>
</li>
</ul>
<h3>Шифруем раздел LVM</h3>
<div class="highlight"><pre>cryptsetup luksFormat -c aes-xts-plain64 -s <span class="m">512</span> /dev/sda2
</pre></div>


<p>больше о параметрах шифрования см. <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Device_encryption#Encryption_options_for_LUKS_mode">здесь</a></p>
<div class="highlight"><pre>cryptsetup open --type luks /dev/sda2 lvm
</pre></div>


<h3>Создаём разделы на LVM</h3>
<p>создаём физический раздел LVM:</p>
<div class="highlight"><pre>pvcreate /dev/mapper/lvm
</pre></div>


<p>создаём ...</p> </div>
				</li>
				<li>
					<h1 class="title">
						<a href="https://stonedastronaut.github.io/backup-hdd-sredstvami-gnulinux.html" rel="bookmark" title="Permalink to Backup hdd средствами GNU/Linux">Backup hdd средствами GNU/Linux</a>
					</h1>
					<abbr class="published" title="2015-02-09T19:30:00+06:00">Mon 09 February 2015</abbr>
				<div class="entry-content"> <p>После теста hdd можно определить, пора ли менять диск или нет.</p>
<p>Если время пришло, то тогда необходимо перенести со старого жесткого всю инфу на новый.</p>
<p>Из гуглежа, стало ясно, чо использование обычного dd не "кошегно". Ъ использовать <strong>GNU ddrescue</strong>. Команда для backup'а выглядит следующим образом:</p>
<div class="highlight"><pre><span class="c"># ddrescue /dev/sdX /pth_to_backup ...</span></pre></div> </div>
				</li>
		</ol>
	</dl>

<p class="paginator">
</p>
	</section>

</body>
</html>